<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cubo 3D: Alinhamento AutomÃ¡tico</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --cube-size: 180px;
            --translate-z: 90px;
        }

        @media (min-width: 768px) {
            :root {
                --cube-size: 280px;
                --translate-z: 140px;
            }
        }

        body {
            touch-action: none;
            overflow: hidden;
            background-color: #050505;
        }

        .scene {
            perspective: 1200px;
            width: var(--cube-size);
            height: var(--cube-size);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cube {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            cursor: grab;
        }

        .face {
            position: absolute;
            width: var(--cube-size);
            height: var(--cube-size);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: calc(var(--cube-size) * 0.55);
            border: 2px solid rgba(255, 255, 255, 0.1);
            backface-visibility: visible;
            box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.6);
            user-select: none;
        }

        /* Lados do CoraÃ§Ã£o */
        .front  { transform: rotateY(0deg) translateZ(var(--translate-z)); }
        .right  { transform: rotateY(90deg) translateZ(var(--translate-z)); }
        .top    { transform: rotateX(90deg) translateZ(var(--translate-z)); }

        /* Lados do CÃ©rebro */
        .back   { transform: rotateY(180deg) translateZ(var(--translate-z)); }
        .left   { transform: rotateY(-90deg) translateZ(var(--translate-z)); }
        .bottom { transform: rotateX(-90deg) translateZ(var(--translate-z)); }

        .bg-glow {
            background: radial-gradient(circle at center, #111 0%, #000 100%);
            position: fixed;
            inset: 0;
            z-index: -1;
        }
    </style>
</head>
<body class="h-screen w-full flex flex-col items-center justify-between py-12">

    <div class="bg-glow"></div>

    <div class="text-center z-10 px-6">
        <h1 class="text-white text-3xl md:text-5xl font-black tracking-tighter uppercase italic leading-none">
            <span class="text-rose-600 drop-shadow-[0_0_15px_rgba(225,29,72,0.4)]">ðŸ«€ EmoÃ§Ã£o</span>
            <span class="text-zinc-600 text-xl mx-2">VS</span>
            <span class="text-indigo-500 drop-shadow-[0_0_15px_rgba(99,102,241,0.4)]">RazÃ£o ðŸ§ </span>
        </h1>
        <p class="text-zinc-500 text-xs font-mono mt-4 tracking-[0.3em] uppercase">Arraste e solte</p>
    </div>

    <div class="scene">
        <div id="cube" class="cube">
            <div class="face front bg-rose-950/20 border-rose-500/30">ðŸ«€</div>
            <div class="face right bg-rose-950/20 border-rose-500/30">ðŸ«€</div>
            <div class="face top bg-rose-950/20 border-rose-500/30">ðŸ«€</div>
            <div class="face back bg-indigo-950/20 border-indigo-500/30">ðŸ§ </div>
            <div class="face left bg-indigo-950/20 border-indigo-500/30">ðŸ§ </div>
            <div class="face bottom bg-indigo-950/20 border-indigo-500/30">ðŸ§ </div>
        </div>
    </div>

    <div class="text-zinc-700 text-[10px] font-bold tracking-widest uppercase mb-4">
        Estabilidade de Face Ativa
    </div>

    <script>
        const cube = document.getElementById('cube');
        let isDragging = false;
        let rotateX = -25;
        let rotateY = 45;
        let velocityX = 0;
        let velocityY = 0;
        let lastX = 0;
        let lastY = 0;
        
        const friction = 0.95; // FricÃ§Ã£o do deslize
        const snapThreshold = 0.15; // Velocidade em que o "snap" comeÃ§a a agir

        function updateTransform() {
            cube.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
        }

        function animate() {
            if (!isDragging) {
                // Se ainda estiver girando rÃ¡pido, aplica inÃ©rcia normal
                if (Math.abs(velocityX) > snapThreshold || Math.abs(velocityY) > snapThreshold) {
                    rotateX += velocityY;
                    rotateY += velocityX;
                    velocityX *= friction;
                    velocityY *= friction;
                } else {
                    // Se estiver quase parando, faz o "Snap" para o Ã¢ngulo de 90Â° mais prÃ³ximo
                    let targetX = Math.round(rotateX / 90) * 90;
                    let targetY = Math.round(rotateY / 90) * 90;

                    // InterpolaÃ§Ã£o suave (Lerp) para os alvos
                    rotateX += (targetX - rotateX) * 0.1;
                    rotateY += (targetY - rotateY) * 0.1;
                    
                    // Zera velocidades para evitar micro-movimentos
                    velocityX = 0;
                    velocityY = 0;
                }
                updateTransform();
            }
            requestAnimationFrame(animate);
        }

        function startAction(e) {
            isDragging = true;
            const x = e.clientX || e.touches[0].clientX;
            const y = e.clientY || e.touches[0].clientY;
            lastX = x;
            lastY = y;
        }

        function moveAction(e) {
            if (!isDragging) return;
            if (e.cancelable) e.preventDefault();

            const x = e.clientX || e.touches[0].clientX;
            const y = e.clientY || e.touches[0].clientY;

            const deltaX = x - lastX;
            const deltaY = y - lastY;

            velocityX = deltaX * 0.6;
            velocityY = -deltaY * 0.6;

            rotateY += velocityX;
            rotateX += velocityY;

            updateTransform();

            lastX = x;
            lastY = y;
        }

        function endAction() {
            isDragging = false;
        }

        window.addEventListener('mousedown', startAction);
        window.addEventListener('mousemove', moveAction);
        window.addEventListener('mouseup', endAction);
        window.addEventListener('touchstart', startAction, { passive: false });
        window.addEventListener('touchmove', moveAction, { passive: false });
        window.addEventListener('touchend', endAction);

        animate();
    </script>
</body>
</html>
